(function(B){var A=0;B.fn.splitter=function(C){C=C||{};return this.each(function(){if(B(this).is(".splitter")){return}var E;function D(T){L.removeClass(J.barStateClasses).addClass(T)}function R(T){if(T.which!=1){return}L.removeClass(J.barHoverClass);if(J.outline){E=E||L.clone(false).insertAfter(N);L.removeClass(J.barDockedClass)}D(J.barActiveClass);M.css("-webkit-user-select","none").find("iframe").addClass(J.iframeClass);N._posSplit=N[0][J.pxSplit]-T[J.eventPos];B(document).bind("mousemove"+J.eventNamespace,H).bind("mouseup"+J.eventNamespace,I)}function H(U){var W=N._posSplit+U[J.eventPos],V=Math.max(0,Math.min(W,K._DA-L._DA)),T=Math.max(N._min,K._DA-O._max,Math.min(W,N._max,K._DA-L._DA-O._min));if(J.outline){if((J.dockPane==N&&W<Math.max(N._min,L._DA))||(J.dockPane==O&&W>Math.min(W,N._max,K._DA-L._DA-O._min))){L.addClass(J.barDockedClass).css(J.origin,V)}else{L.removeClass(J.barDockedClass).css(J.origin,T)}L._DA=L[0][J.pxSplit]}else{F(W)}D(W==T?J.barActiveClass:J.barLimitClass)}function I(T){D(J.barNormalClass);L.addClass(J.barHoverClass);var U=N._posSplit+T[J.eventPos];if(J.outline){E.remove();E=null;F(U)}M.css("-webkit-user-select","text").find("iframe").removeClass(J.iframeClass);B(document).unbind("mousemove"+J.eventNamespace+" mouseup"+J.eventNamespace)}function F(T){L._DA=L[0][J.pxSplit];if((J.dockPane==N&&T<Math.max(N._min,L._DA))||(J.dockPane==O&&T>Math.min(T,N._max,K._DA-L._DA-O._min))){L.addClass(J.barDockedClass);L._DA=L[0][J.pxSplit];T=J.dockPane==N?0:K._DA-L._DA;if(L._pos==null){L._pos=N[0][J.pxSplit]}}else{L.removeClass(J.barDockedClass);L._DA=L[0][J.pxSplit];L._pos=null;T=Math.max(N._min,K._DA-O._max,Math.min(T,N._max,K._DA-L._DA-O._min))}L.css(J.origin,T).css(J.fixed,K._DF);N.css(J.origin,0).css(J.split,T).css(J.fixed,K._DF);O.css(J.origin,T+L._DA).css(J.split,K._DA-L._DA-T).css(J.fixed,K._DF);if(!B.browser.msie){M.trigger("resize")}}function G(T,V){var W=0;for(var U=1;U<arguments.length;U++){W+=Math.max(parseInt(T.css(arguments[U]),10)||0,0)}return W}var Q=(C.splitHorizontal?"h":C.splitVertical?"v":C.type)||"v";var J=B.extend({splitterClass:"splitter ui-widget ui-widget-content",paneClass:"splitter-pane",barClass:"splitter-bar",barNormalClass:"ui-state-default",barHoverClass:"ui-state-hover",barActiveClass:"ui-state-highlight",barLimitClass:"ui-state-error",iframeClass:"splitter-iframe-hide",eventNamespace:".splitter"+(++A),pxPerKey:8,tabIndex:0,accessKey:""},{v:{keyLeft:39,keyRight:37,cursor:"e-resize",barStateClass:"splitter-bar-vertical",barDockedClass:"splitter-bar-vertical-docked"},h:{keyTop:40,keyBottom:38,cursor:"n-resize",barStateClass:"splitter-bar-horizontal",barDockedClass:"splitter-bar-horizontal-docked"}}[Q],C,{v:{type:"v",eventPos:"pageX",origin:"left",split:"width",pxSplit:"offsetWidth",side1:"Left",side2:"Right",fixed:"height",pxFixed:"offsetHeight",side3:"Top",side4:"Bottom"},h:{type:"h",eventPos:"pageY",origin:"top",split:"height",pxSplit:"offsetHeight",side1:"Top",side2:"Bottom",fixed:"width",pxFixed:"offsetWidth",side3:"Left",side4:"Right"}}[Q]);J.barStateClasses=[J.barNormalClass,J.barHoverClass,J.barActiveClass,J.barLimitClass].join(" ");var K=B(this).css({position:"relative"}).addClass(J.splitterClass);var M=B(">*",K[0]).addClass(J.paneClass).css({position:"absolute","z-index":"1","-moz-outline-style":"none"});var N=B(M[0]),O=B(M[1]);J.dockPane=J.dock&&(/right|bottom/.test(J.dock)?O:N);var P=B('<a href="javascript:void(0)"></a>').attr({accessKey:J.accessKey,tabIndex:J.tabIndex,title:J.splitbarClass}).bind((B.browser.opera?"click":"focus")+J.eventNamespace,function(){this.focus();L.addClass(J.barActiveClass)}).bind("keydown"+J.eventNamespace,function(V){var U=V.which||V.keyCode;var T=U==J["key"+J.side1]?1:U==J["key"+J.side2]?-1:0;if(T){F(N[0][J.pxSplit]+T*J.pxPerKey,false)}}).bind("blur"+J.eventNamespace,function(){L.removeClass(J.barActiveClass)});var L=B("<div></div>").insertAfter(N).addClass(J.barClass).addClass(J.barStateClass).append(P).attr({unselectable:"on"}).css({position:"absolute","user-select":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","z-index":"100"}).bind("mousedown"+J.eventNamespace,R).bind("mouseover"+J.eventNamespace,function(){B(this).addClass(J.barHoverClass)}).bind("mouseout"+J.eventNamespace,function(){B(this).removeClass(J.barHoverClass)});if(/^(auto|default|)$/.test(L.css("cursor"))){L.css("cursor",J.cursor)}L._DA=L[0][J.pxSplit];K._PBF=G(K,"border"+J.side3+"Width","border"+J.side4+"Width");K._PBA=G(K,"border"+J.side1+"Width","border"+J.side2+"Width");N._pane=J.side1;O._pane=J.side2;B.each([N,O],function(){this._splitter_style=this.style;this._min=J["min"+this._pane]||G(this,"min-"+J.split);this._max=J["max"+this._pane]||G(this,"max-"+J.split)||9999;this._init=J["size"+this._pane]===true?parseInt(B.curCSS(this[0],J.split),10):J["size"+this._pane]});var S=N._init;if(!isNaN(O._init)){S=K[0][J.pxSplit]-K._PBA-O._init-L._DA}if(J.cookie){if(!B.cookie){alert("jQuery.splitter(): jQuery cookie plugin required")}S=parseInt(B.cookie(J.cookie),10);B(window).bind("unload"+J.eventNamespace,function(){var T=String(L.css(J.origin));B.cookie(J.cookie,T,{expires:J.cookieExpires||365,path:J.cookiePath||document.location.pathname})})}if(isNaN(S)){S=Math.round((K[0][J.pxSplit]-K._PBA-L._DA)/2)}if(J.anchorToWindow){J.resizeTo=window}if(J.resizeTo){K._hadjust=G(K,"borderTopWidth","borderBottomWidth","marginBottom");K._hmin=Math.max(G(K,"minHeight"),20);B(window).bind("resize"+J.eventNamespace,function(){var U=K.offset().top;var T=B(J.resizeTo).height();K.css("height",Math.max(T-U-K._hadjust,K._hmin)+"px");if(!B.browser.msie){K.trigger("resize")}}).trigger("resize"+J.eventNamespace)}else{if(J.resizeToWidth&&!B.browser.msie){B(window).bind("resize"+J.eventNamespace,function(){K.trigger("resize")})}}if(J.dock){K.bind("toggleDock"+J.eventNamespace,function(){var T=J.dockPane[0][J.pxSplit];K.trigger(T?"dock":"undock")}).bind("dock"+J.eventNamespace,function(){var T=N[0][J.pxSplit];if(!T){return}L._pos=T;var U={};U[J.origin]=J.dockPane==N?0:K[0][J.pxSplit]-K._PBA-L[0][J.pxSplit];L.animate(U,J.dockSpeed||1,J.dockEasing,function(){L.addClass(J.barDockedClass);F(U[J.origin])})}).bind("undock"+J.eventNamespace,function(){var T=J.dockPane[0][J.pxSplit];if(T){return}var U={};U[J.origin]=L._pos+"px";L.removeClass(J.barDockedClass).animate(U,J.undockSpeed||J.dockSpeed||1,J.undockEasing||J.dockEasing,function(){F(L._pos);L._pos=null})});if(J.dockKey){B('<a title="'+J.splitbarClass+' toggle dock" href="javascript:void(0)"></a>').attr({accessKey:J.dockKey,tabIndex:-1}).appendTo(L).bind(B.browser.opera?"click":"focus",function(){K.trigger("toggleDock");this.blur()})}L.bind("dblclick",function(){K.trigger("toggleDock")})}K.bind("destroy"+J.eventNamespace,function(){B([window,document]).unbind(J.eventNamespace);L.unbind().remove();M.removeClass(J.paneClass);K.removeClass(J.splitterClass).add(M).unbind(J.eventNamespace).attr("style",function(T){return this._splitter_style||""});K=L=P=M=N=O=J=C=null}).bind("resize"+J.eventNamespace,function(U,T){if(U.target!=this){return}K._DF=K[0][J.pxFixed]-K._PBF;K._DA=K[0][J.pxSplit]-K._PBA;if(K._DF<=0||K._DA<=0){return}F(!isNaN(T)?T:(!(J.sizeRight||J.sizeBottom)?N[0][J.pxSplit]:K._DA-O[0][J.pxSplit]-L._DA));D(J.barNormalClass)}).trigger("resize",[S])})}})(jQuery);