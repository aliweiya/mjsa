<!DOCTYPE html>
    <html>
    <head>
        <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
        <style>
/*--------------------------------------------------------------------------------------------- * Copyright (c) Microsoft Corporation. All rights reserved. * Licensed under the MIT License. See License.txt in the project root for license information. *--------------------------------------------------------------------------------------------*/ body { font-family: "Segoe WPC", "Segoe UI", "SFUIText-Light", "HelveticaNeue-Light", sans-serif, "Droid Sans Fallback"; font-size: 14px; padding: 0 12px; line-height: 22px; word-wrap: break-word; } body.scrollBeyondLastLine { margin-bottom: calc(100vh - 22px); } body.showEditorSelection .code-line { position: relative; } body.showEditorSelection .code-active-line:before, body.showEditorSelection .code-line:hover:before { content: ""; display: block; position: absolute; top: 0; left: -12px; height: 100%; } body.showEditorSelection li.code-active-line:before, body.showEditorSelection li.code-line:hover:before { left: -30px; } .vscode-light.showEditorSelection .code-active-line:before { border-left: 3px solid rgba(0, 0, 0, 0.15); } .vscode-light.showEditorSelection .code-line:hover:before { border-left: 3px solid rgba(0, 0, 0, 0.40); } .vscode-dark.showEditorSelection .code-active-line:before { border-left: 3px solid rgba(255, 255, 255, 0.4); } .vscode-dark.showEditorSelection .code-line:hover:before { border-left: 3px solid rgba(255, 255, 255, 0.60); } .vscode-high-contrast.showEditorSelection .code-active-line:before { border-left: 3px solid rgba(255, 160, 0, 0.7); } .vscode-high-contrast.showEditorSelection .code-line:hover:before { border-left: 3px solid rgba(255, 160, 0, 1); } img { max-width: 100%; max-height: 100%; } a { color: #4080D0; text-decoration: none; } a:focus, input:focus, select:focus, textarea:focus { outline: 1px solid -webkit-focus-ring-color; outline-offset: -1px; } hr { border: 0; height: 2px; border-bottom: 2px solid; } h1 { padding-bottom: 0.3em; line-height: 1.2; border-bottom-width: 1px; border-bottom-style: solid; } h1, h2, h3 { font-weight: normal; } h1 code, h2 code, h3 code, h4 code, h5 code, h6 code { font-size: inherit; line-height: auto; } a:hover { color: #4080D0; text-decoration: underline; } table { border-collapse: collapse; } table > thead > tr > th { text-align: left; border-bottom: 1px solid; } table > thead > tr > th, table > thead > tr > td, table > tbody > tr > th, table > tbody > tr > td { padding: 5px 10px; } table > tbody > tr + tr > td { border-top: 1px solid; } blockquote { margin: 0 7px 0 5px; padding: 0 16px 0 10px; border-left: 5px solid; } code { font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback"; font-size: 14px; line-height: 19px; } body.wordWrap pre { white-space: pre-wrap; } .mac code { font-size: 12px; line-height: 18px; } code > div { padding: 16px; border-radius: 3px; overflow: auto; } /** Theming */ .vscode-light { color: rgb(30, 30, 30); } .vscode-dark { color: #DDD; } .vscode-high-contrast { color: white; } .vscode-light code { color: #A31515; } .vscode-dark code { color: #D7BA7D; } .vscode-light code > div { background-color: rgba(220, 220, 220, 0.4); } .vscode-dark code > div { background-color: rgba(10, 10, 10, 0.4); } .vscode-high-contrast code > div { background-color: rgb(0, 0, 0); } .vscode-high-contrast h1 { border-color: rgb(0, 0, 0); } .vscode-light table > thead > tr > th { border-color: rgba(0, 0, 0, 0.69); } .vscode-dark table > thead > tr > th { border-color: rgba(255, 255, 255, 0.69); } .vscode-light h1, .vscode-light hr, .vscode-light table > tbody > tr + tr > td { border-color: rgba(0, 0, 0, 0.18); } .vscode-dark h1, .vscode-dark hr, .vscode-dark table > tbody > tr + tr > td { border-color: rgba(255, 255, 255, 0.18); } .vscode-light blockquote, .vscode-dark blockquote { background: rgba(127, 127, 127, 0.1); border-color: rgba(0, 122, 204, 0.5); } .vscode-high-contrast blockquote { background: transparent; border-color: #fff; }
</style>
<style>
/* Tomorrow Theme */ /* http://jmblog.github.com/color-themes-for-google-code-highlightjs */ /* Original theme - https://github.com/chriskempson/tomorrow-theme */ /* Tomorrow Comment */ .hljs-comment, .hljs-quote { color: #8e908c; } /* Tomorrow Red */ .hljs-variable, .hljs-template-variable, .hljs-tag, .hljs-name, .hljs-selector-id, .hljs-selector-class, .hljs-regexp, .hljs-deletion { color: #c82829; } /* Tomorrow Orange */ .hljs-number, .hljs-built_in, .hljs-builtin-name, .hljs-literal, .hljs-type, .hljs-params, .hljs-meta, .hljs-link { color: #f5871f; } /* Tomorrow Yellow */ .hljs-attribute { color: #eab700; } /* Tomorrow Green */ .hljs-string, .hljs-symbol, .hljs-bullet, .hljs-addition { color: #718c00; } /* Tomorrow Blue */ .hljs-title, .hljs-section { color: #4271ae; } /* Tomorrow Purple */ .hljs-keyword, .hljs-selector-tag { color: #8959a8; } .hljs { display: block; overflow-x: auto; color: #4d4d4c; padding: 0.5em; } .hljs-emphasis { font-style: italic; } .hljs-strong { font-weight: bold; }
</style>
<style>
ul.contains-task-list { padding-left: 0; } ul ul.contains-task-list { padding-left: 40px; } .task-list-item { list-style-type: none; } .task-list-item-checkbox { vertical-align: middle; }
</style>
        <style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', 'HelveticaNeue-Light', 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
    </head>
    <body>
        <h1 id="create-react-app">create-react-app</h1>
<p><a href="https://github.com/facebook/create-react-app">https://github.com/facebook/create-react-app</a></p>
<h2 id="cnpm">cnpm</h2>
<p><a href="https://cnpmjs.org/">https://cnpmjs.org/</a></p>
<p>建议使用 cnpm 代替npm 安装依赖包，并始终使用</p>
<pre><code>npm install -g cnpm --registry=https://registry.npm.taobao.org

npm set registry https://registry.npm.taobao.org/
</code></pre>
<p>全局安装</p>
<pre><code>cnpm install create-react-app -g
</code></pre>
<h2 id="%E5%88%9B%E5%BB%BA-react-%E9%A1%B9%E7%9B%AE">创建 react 项目</h2>
<pre><code>create-react-app my-app
cd my-app
//运行该项目，启动本地服务器 localhost:3000
npm start
</code></pre>
<h2 id="%E9%A1%B9%E7%9B%AE%E7%89%B9%E5%BE%81">项目特征</h2>
<ul>
<li>React, JSX, ES6, and Flow 语法支持.</li>
<li>ES6 语言标准扩展如对象扩展.</li>
<li>Autoprefixed CSS.</li>
<li>单元测试运行</li>
<li>开发服务器.</li>
<li>内建脚本打包 JS, CSS, and images for production, with hashes and sourcemaps.</li>
<li>自动刷新</li>
<li>加入了eslint的功能</li>
<li>可编译出生产环境的代码，且文件名带hash值，方便做cache。npm run build</li>
<li>开发环境中，react应用是跑在3000端口的，可是api服务可能跑在3001端口
只需要在package.json文件中，加一个配置项就可以了。</li>
<li>开发模式中代理设置
比如：&quot;proxy&quot;: &quot;http://localhost:3001/&quot;</li>
</ul>
<h2 id="%E7%BB%84%E6%88%90">组成</h2>
<p>create-react-app 全局的命令行工具用来创建一个新的项目</p>
<p>react-script 生成的项目所需要的开发依赖</p>
<p>每次创建项目都会用最新的 react-script。</p>
<h2 id="eject">Eject</h2>
<p>npm run eject
脱离create-react-app 回归普通 webpack 配置方式
方便自定义，单向操作，不能回退。</p>
<p><strong>react等作为全局变量不打包：</strong>
首先在config -&gt; webpack.config.prod.js 的配置里加入如下代码：</p>
<pre><code>module.exports = {
  ...
  externals: {
    'react': 'React',
    'react-dom': 'ReactDOM'
  },
  ...
}
</code></pre>
<p>并修改 public -&gt; index.html 引入 react 和 react-dom</p>
<p><strong>添加ant-design：</strong></p>
<pre><code>npm install antd babel-plugin-import --save-dev
</code></pre>
<p>在config -&gt; webpack.config.dev.js 和 webpack.config.prod.js 里
（或者 .babelrc 文件）的babel-loader的options配置里，加入如下代码：</p>
<pre><code>plugins: [
  ['import', { libraryName: 'antd', style: 'css' }]  // `style: true` 会加载 less 文件
]
</code></pre>
<p>或 config-overrides.js 中</p>
<pre><code>config = injectBabelPlugin(["import", { libraryName: "antd-mobile", style: "css" }], config);
</code></pre>
<p><strong>不 eject 的方法：</strong></p>
<p>引入 react-app-rewired 插件来实现配置覆盖。</p>
<p>需要在根目录新建一个 config-overrides.js</p>
<p>还需要重写下npm start等相关命令。</p>
<h2 id="eslint">ESLint</h2>
<p>编辑器选用安装 ESLint 插件，然后项目根目录添加文件 .eslintrc:</p>
<pre><code>{
  "extends": "react-app"
}
</code></pre>
<h2 id="%E5%AE%89%E8%A3%85sass%E6%88%96less">安装sass或less</h2>
<pre><code>npm install sass-loader node-sass --save-dev
//或
npm install less-loader less --save-dev
test: /\.(css|scss|sass)$/
...
use:[
  {
  ...
  },
  "sass-loader"
]

npm install react-app-rewired --save-dev
</code></pre>
<h2 id="react-app-rewired"><a href="https://github.com/codebandits/react-app-rewire-css-modules">react-app-rewired</a></h2>
<p>为 create-react-app 没有 eject 情况下重新配置 webpack</p>
<pre><code>npm install --save-dev codebandits/react-app-rewire-css-modules sass-loader node-sass

/* config-overrides.js */

const rewireCssModules = require('react-app-rewire-css-modules');

module.exports = function override(config, env) {
    // ...
    config = rewireCssModules(config, env);
    // ...
    return config;
}
</code></pre>
<pre><code>import styles from './App.module.scss';

</code></pre>
<div className={styles.app}></div>
<p>文件名必须：
*.module.css
*.module.sass
*.module.scss</p>
<h2 id="%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E5%BC%95%E7%94%A8-public-%E6%96%87%E4%BB%B6%E5%A4%B9">什么时候引用 public 文件夹</h2>
<blockquote>
<p>建议从js 导入样式图像字体，公共目录通常应对变通的较少使用的方法。</p>
</blockquote>
<p>有成千上万的图片需要根据路径动态引用。</p>
<p>包含一些小的脚本在打包之外。</p>
<p>有些库不兼容于 webpack，只能通过 script 标签来引用。</p>
<h2 id="%E4%B8%80%E8%88%AC%E5%8E%9F%E5%88%99">一般原则</h2>
<p>所有的源码都要放到src目录下</p>
<p>想要构建项目必须包含下面两个文件:</p>
<p>public/index.html 模板文件</p>
<p>src/index.js 入口</p>

    </body>
    </html>