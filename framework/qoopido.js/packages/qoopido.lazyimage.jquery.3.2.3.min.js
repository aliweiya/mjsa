/*!
* Qoopido.js library v3.2.3, 2014-0-13
* https://github.com/dlueth/qoopido.js
* (c) 2014 Dirk Lueth
* Dual licensed under MIT and GPL
*/
!function(e,t){t.register?t.register("polyfill/object/defineproperty",e):(t.modules=t.modules||{})["polyfill/object/defineproperty"]=e()}(function(){"use strict";if(!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var e=Object.defineProperty,t=Object.prototype.__defineGetter__,n=Object.prototype.__defineSetter__;Object.defineProperty=function(r,o,i){if(e)try{return e(r,o,i)}catch(l){}if(r!==Object(r))throw new TypeError("Object.defineProperty called on non-object");return t&&"get"in i&&t.call(r,o,i.get),n&&"set"in i&&n.call(r,o,i.set),"value"in i&&(r[o]=i.value),r}}return!0},window.qoopido=window.qoopido||{}),function(e,t){if(t.register){var n=[];Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()||n.push("./defineproperty"),t.register("polyfill/object/defineproperties",e,n)}else(t.modules=t.modules||{})["polyfill/object/defineproperties"]=e()}(function(){"use strict";return Object.defineProperties||(Object.defineProperties=function(e,t){if(e!==Object(e))throw new TypeError("Object.defineProperties called on non-object");var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&Object.defineProperty(e,n,t[n]);return e}),!0},window.qoopido=window.qoopido||{}),function(e,t){if(t.register){var n=[];Object.defineProperties||n.push("./defineproperties"),t.register("polyfill/object/create",e,n)}else(t.modules=t.modules||{})["polyfill/object/create"]=e()}(function(){"use strict";return Object.create||(Object.create=function(e,t){function n(){}if("object"!=typeof e)throw new TypeError;n.prototype=e;var r=new n;if(e&&(r.constructor=n),arguments.length>1){if(t!==Object(t))throw new TypeError;Object.defineProperties(r,t)}return r}),!0},window.qoopido=window.qoopido||{}),function(e,t){t.register?t.register("polyfill/object/getownpropertydescriptor",e):(t.modules=t.modules||{})["polyfill/object/getownpropertydescriptor"]=e()}(function(){"use strict";if(!Object.getOwnPropertyDescriptor||!function(){try{return Object.getOwnPropertyDescriptor({x:0},"x"),!0}catch(e){return!1}}()){var e=Object.getOwnPropertyDescriptor;Object.getOwnPropertyDescriptor=function(t,n){if(t!==Object(t))throw new TypeError;try{return e.call(Object,t,n)}catch(r){}return Object.prototype.hasOwnProperty.call(t,n)?{value:t[n],enumerable:!0,writable:!0,configurable:!0}:void 0}}return!0},window.qoopido=window.qoopido||{}),function(e,t,n,r,o,i){"use strict";function l(e){for(var t;(t=e.replace(d,""))!==e;)e=t;return e.replace(m,"")}var c,u,s=t.shared=t.shared||{},a=t.modules=t.modules||{},f=[],p=new RegExp("^\\.+\\/"),d=new RegExp("(?:\\/|)[^\\/]*\\/\\.\\."),m=new RegExp("(^\\/)|\\.\\/","g");c=t.register=function(e,t,c,u){var f,d=e.split("/");return a[e]?a[e]:(f=function(){if(c){var f,m,g,h=d.slice(0,-1).join("/");for(f=0;(m=c[f])!==i;f++)g=p.test(m),g&&(m=l(h+"/"+m)),!a[m]&&arguments[f]&&(a[m]=arguments[f]),g&&!a[m]&&"undefined"!=typeof console&&console.error("".concat("[Qoopido.js] ",e,": Could not load dependency ",m))}return a[e]=t(a,s,d,n,r,o,i),u&&u(a[e]),a[e]},"function"==typeof define&&define.amd?c?define(c,f):define(f):f(),void 0)},u=t.registerSingleton=function(e,t,n){c(e,t,n,function(t){a[e]=t.create()})},Object.create||f.push("./polyfill/object/create"),Object.getOwnPropertyNames||f.push("./polyfill/object/getownpropertynames"),Object.getOwnPropertyDescriptor&&function(){try{return Object.getOwnPropertyDescriptor({x:0},"x"),!0}catch(e){return!1}}()||f.push("./polyfill/object/getownpropertydescriptor"),c("base",e,f)}(function(e,t,n,r,o,i,l){"use strict";function c(e){var t,n,r={},o=Object.getOwnPropertyNames(e);for(t=0;(n=o[t])!==l;t++)r[n]=Object.getOwnPropertyDescriptor(e,n);return r}function u(){"undefined"!=typeof console&&console.error("[Qoopido.js] Operation prohibited on an actual instance")}return{create:function(){var e,t=Object.create(this,c(this));return t._constructor&&(e=t._constructor.apply(t,arguments)),t.create=t.extend=u,e||t},extend:function(e){return e=e||{},e._parent=this,Object.create(this,c(e))}}},window.qoopido=window.qoopido||{},navigator,window,document),function(e){window.qoopido.register("polyfill/window/getcomputedstyle",e)}(function(e,t,n,r,o){"use strict";if(!o.getComputedStyle){var i=new RegExp("(\\-([a-z]){1})","g"),l=function(){return arguments[2].toUpperCase()};o.getComputedStyle=function(e){var t=this;return t.element=e,t.getPropertyValue=function(t){return"float"===t&&(t="styleFloat"),i.test(t)&&(t=t.replace(i,l)),e.currentStyle[t]?e.currentStyle[t]:null},t}}return!0}),function(e){window.qoopido.register("function/merge",e)}(function(e,t,n,r,o,i,l){"use strict";return function c(){var e,t,n,r,o,i=arguments[0];for(e=1;(t=arguments[e])!==l;e++)for(n in t)r=i[n],o=t[n],o!==l&&(null!==o&&"object"==typeof o?(r=o.length!==l?r&&"object"==typeof r&&r.length!==l?r:[]:r&&"object"==typeof r&&r.length===l?r:{},i[n]=c(r,o)):i[n]=o);return i}}),function(e){window.qoopido.register("function/unique/uuid",e)}(function(){"use strict";function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(n,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})}var t={},n=new RegExp("[xy]","g");return function(){var n;do n=e();while("undefined"!=typeof t[n]);return t[n]=!0,n}}),function(e){window.qoopido.register("proxy",e,["./function/unique/uuid"])}(function(e){"use strict";return e.base.extend({_constructor:function(t,n){var r=Array.prototype.splice.call(arguments,2),o=function(){return n.apply(t,Array.prototype.slice.call(arguments,0).concat(r))};return o._quid=e["function/unique/uuid"](),o}})}),function(e){var t=["../proxy"];window.getComputedStyle||t.push("../polyfill/window/getcomputedstyle"),window.qoopido.register("dom/element",e,t)}(function(e,t,n,r,o,i,l){"use strict";function c(e){return e.target||(e.target=e.srcElement||i),3===e.target.nodeType&&(e.target=e.target.parentNode),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e}var u,s,a,f="object",p="string";return u=o.addEventListener?function(e,t){var n=this,r=n.element,o="".concat("listener[",e,"][",t._quid||t,"]");r[o]=function(e){t.call(this,c(e))},r.addEventListener(e,r[o],!1)}:function(e,t){var n,r=this,i=r.element;i["on"+e]!==l?(n="".concat("listener[",e,"][",t._quid||t,"]"),i[n]=function(){t.call(this,c(o.event))},i.attachEvent("on"+e,i[n])):(e="".concat("fake[",e,"]"),i[e]=null,i.attachEvent("onpropertychange",function(n){n.propertyName===e&&t.call(this,c(i[e]))}))},s=o.removeEventListener?function(e,t){var n=this,r=n.element,o="".concat("listener[",e,"][",t._quid||t,"]");r.removeEventListener(e,r[o],!1),delete r[o]}:function(e,t){var n=this,r=n.element,o="".concat("listener[",e,"][",t._quid||t,"]");r.detachEvent("on"+e,r[o]),delete r[o]},a=i.createEvent?function(e,t){var n=this,r=n.element,o=i.createEvent("HTMLEvents");o.initEvent(e,!0,!0),o.data=t,r.dispatchEvent(o)}:function(e,t){var n=this,r=n.element,o=i.createEventObject();o.type=o.eventType=e,o.data=t;try{r.fireEvent("on"+o.eventType,o)}catch(c){var u="".concat("fake[",e,"]");r[u]!==l&&(r[u]=o)}},e.base.extend({type:null,element:null,listener:null,_constructor:function(e){var t=this;if(!e)throw new Error("Missing element argument");t.type=e.tagName,t.element=e,t.listener={}},getAttribute:function(e){if(e&&typeof e===p){var t=this;return e=e.split(" "),1===e.length?t.element.getAttribute(e[0]):t.getAttributes(e)}},getAttributes:function(e){var t=this,n={};if(e&&(e=typeof e===p?e.split(" "):e,typeof e===f&&e.length)){var r,o;for(r=0;(o=e[r])!==l;r++)n[o]=t.element.getAttributes(o)}return n},setAttribute:function(e,t){var n=this;return e&&typeof e===p&&n.element.setAttribute(e,t),n},setAttributes:function(e){var t=this;if(e&&typeof e===f&&!e.length){var n;for(n in e)t.element.setAttribute(n,e[n])}return t},removeAttribute:function(e){var t=this;return e&&typeof e===p&&(e=e.split(" "),1===e.length?t.element.removeAttribute(e[0]):t.removeAttributes(e)),t},removeAttributes:function(e){var t=this;if(e&&(e=typeof e===p?e.split(" "):e,typeof e===f&&e.length)){var n,r;for(n=0;(r=e[n])!==l;n++)t.element.removeAttribute(r)}return t},getStyle:function(e){if(e&&typeof e===p){var t=this;return e=e.split(" "),1===e.length?o.getComputedStyle(t.element,null).getPropertyValue(e[0]):t.getStyles(e)}},getStyles:function(e){var t=this,n={};if(e&&(e=typeof e===p?e.split(" "):e,typeof e===f&&e.length)){var r,i;for(r=0;(i=e[r])!==l;r++)n[i]=o.getComputedStyle(t.element,null).getPropertyValue(i)}return n},setStyle:function(e,t){var n=this;return e&&typeof e===p&&(n.element.style[e]=t),n},setStyles:function(e){var t=this;if(e&&typeof e===f&&!e.length){var n;for(n in e)t.element.style[n]=e[n]}return t},isVisible:function(){var e=this.element;return!(e.offsetWidth<=0&&e.offsetHeight<=0)},hasClass:function(e){return new RegExp("(?:^|\\s)"+e+"(?:\\s|$)").test(this.element.className)},addClass:function(e){var t,n=this;return n.hasClass(e)||(t=n.element.className.split(" "),t.push(e),n.element.className=t.join(" ")),n},removeClass:function(e){var t=this;return t.hasClass(e)&&(t.element.className=t.element.className.replace(new RegExp("(?:^|\\s)"+e+"(?!\\S)"),"")),t},toggleClass:function(e){var t=this;return t.hasClass(e)?t.removeClass(e):t.addClass(e),t},prepend:function(e){var t=this,n=t.element;return e=e.element||e,n.firstChild?n.insertBefore(e,n.firstChild):t.append(e),t},append:function(e){var t=this;return t.element.appendChild(e.element||e),t},replaceWith:function(e){var t=this,n=t.element;return e=e.element||e,n.parentNode.replaceChild(e,n),t},prependTo:function(e){var t=this,n=t.element;return(e=e.element||e).firstChild?e.insertBefore(n,e.firstChild):t.appendTo(e),t},appendTo:function(e){var t=this;return(e.element||e).appendChild(t.element),t},insertBefore:function(e){var t=this,n=t.element;return(e=e.element||e).parentNode.insertBefore(n,e),t},insertAfter:function(e){var t=this,n=t.element;return(e=e.element||e).nextSibling?e.parentNode.insertBefore(n,e.nextSibling):t.appendTo(e.parentNode),t},replace:function(e){var t=this,n=t.element;return(e=e.element||e).parentNode.replaceChild(n,e),t},remove:function(){var e=this,t=e.element;return t.parentNode.removeChild(t),e},on:function(e,t){var n,r,o=this;for(e=e.split(" "),n=0;(r=e[n])!==l;n++)(o.listener[r]=o.listener[r]||[]).push(t),u.call(o,r,t);return o},one:function(t,n,r){r=r!==!1;var o=this,i=e.proxy.create(o,function(e){o.off(r===!0?e.type:t,i),n.call(o,e)});return o.on(t,i),o},off:function(e,t){var n,r,o,i,c=this;if(e)for(e=e.split(" "),n=0;(r=e[n])!==l;n++)if(c.listener[r]=c.listener[r]||[],t)for(o=0;(i=c.listener[r][o])!==l;o++)i===t&&(c.listener[r].splice(o,1),s.call(c,r,i),o--);else for(;c.listener[r].length>0;)s.call(c,r,c.listener[r].pop());else for(r in c.listener)for(;c.listener[r].length>0;)s.call(c,r,c.listener[r].pop());return c},emit:function(e,t){var n=this;return a.call(n,e,t),n}})}),function(e){window.qoopido.register("dom/element/emerge",e,["../element","../../function/merge","../../function/unique/uuid"])}(function(e,t,n,r,o,i,l){"use strict";function c(e){var t,n=v[e];for(t in n)"length"!==t&&a.call(n[t]);0===n.length&&(o.element.clearInterval(h[e]),delete h[e])}function u(){g.left=0,g.top=0,g.right=m.clientWidth,g.bottom=m.clientHeight}function s(){var e=this,t=e._settings.threshold||m.clientWidth*e._settings.auto,n=e._settings.threshold||m.clientHeight*e._settings.auto;e._viewport.left=g.left-t,e._viewport.top=g.top-n,e._viewport.right=g.right+t,e._viewport.bottom=g.bottom+n}function a(){var e,t=this,n=!1,r=2;!t.isVisible()||"hidden"===t.getStyle("visibility")&&t._settings.visibility!==!1||(e=t.element.getBoundingClientRect(),(e.left>=t._viewport.left&&e.top>=t._viewport.top&&e.left<=t._viewport.right&&e.top<=t._viewport.bottom||e.right>=t._viewport.left&&e.bottom>=t._viewport.top&&e.right<=t._viewport.right&&e.bottom<=t._viewport.bottom)&&((e.left>=g.left&&e.top>=g.top&&e.left<=g.right&&e.top<=g.bottom||e.right>=g.left&&e.bottom>=g.top&&e.right<=g.right&&e.bottom<=g.bottom)&&(r=1),n=!0)),(n!==t._state||n===!0&&r!==t._priority)&&f.call(t,n,r)}function f(e,t){var n=this;n._state=e,n._priority=t,n._settings.recur!==!0&&n.remove(),e===!0?n.emit(y,t):n.emit(b)}var p,d={interval:50,threshold:"auto",recur:!0,auto:.5,visibility:!0},m=o.document.documentElement,g={},h={},v={},y="emerged",b="demerged",w="resize orientationchange";if(o=e["dom/element"].create(o),"CSS1Compat"!==i.compatMode)throw"This script requires your browser to work in standards mode";return p=e["dom/element"].extend({_quid:null,_viewport:null,_element:null,_settings:null,_state:null,_priority:null,_constructor:function(t,n){var r=this;p._parent._constructor.call(r,t),n=e["function/merge"]({},d,n||{}),"auto"===n.threshold&&delete n.threshold,h[n.interval]===l&&(v[n.interval]=v[n.interval]||{length:0},h[n.interval]=o.element.setInterval(function(){c(n.interval)},n.interval)),r._quid=e["function/unique/uuid"](),r._viewport={},r._settings=n,r._state=!1,r._priority=2,v[n.interval][r._quid]=r,v[n.interval].length++,o.on(w,function(){s.call(r)}),s.call(r)},remove:function(){var e=this;delete v[e._settings.interval][e._quid],v[e._settings.interval].length--}}),o.on(w,u),u(),p}),function(e){window.qoopido.register("dom/element/lazyimage",e,["./emerge","../../function/merge"])}(function(e){"use strict";function t(){var e=this,t=e._settings.attribute;o+=1,e.emit(i).one(f,function(t){t.type===s?e.emit(l):e.emit(c),o-=1},!1).setAttribute("src",e.getAttribute(t)).removeAttribute(t)}var n,r={interval:50,threshold:"auto",attribute:"data-lazyimage"},o=0,i="requested",l="loaded",c="failed",u="emerged",s="load",a="error",f="".concat(s," ",a);return n=e["dom/element/emerge"].extend({_constructor:function(i,l){var c=this;n._parent._constructor.call(c,i,e["function/merge"]({},r,l||{})),c.on(u,function s(e){(0===o||1===e.data)&&(c.remove(),c.off(u,s),t.call(c))})}})}),function(e){window.qoopido.register("jquery/plugins/lazyimage",e,["../../dom/element/lazyimage","jquery"])}(function(e,t,n,r,o){"use strict";var i,l=e.jquery||o.jQuery,c=n.pop(),u="requested",s="loaded",a="".concat(u,".",c),f="".concat(s,".",c);return l.fn[c]=function(e){return this.each(function(){i.create(this,e)})},i=e["dom/element/lazyimage"].extend({_constructor:function(e,t){var n=this,r=l(e);i._parent._constructor.call(n,e,t),n.on(u,function(){r.trigger(a)}),n.on(s,function(){r.trigger(f)})}})});