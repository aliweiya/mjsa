/**
 * 版权声明: 
 * 1. 若有任务疑问欢迎发送邮箱:981134442@qq.com, author将尽力为你解答
 * 2. 若在使用过程中发现任何问题, 请通过邮箱告之author,如果author根据你的问题作出修改, 你的名字将在下期版本中写入声明, 非常欢迎和感谢发现问题的你
 * 3. 若你有什么新的需求, 或者新的想法(创意)需要author为你完成,请邮箱告诉author, author将尽力满足你的需求
 * 4. 若用于商业项目请告之author,经author允许后方可,邮箱:981134442@qq.com
 * 5. 请保留插件原名:fj_dialog
 * 6. 当前版本: v1.0.2
 * */
;(function(e){e.fn.fjDialog=function(t){function n(e){return e}t=n(t),t=e.extend({},e.fn.fjDialog.defaults,t);var r=e.fn.fjDialog.defaults,i=this;return this.each(function(){function n(n){if(l!=null)return;l=e('<div style="position: absolute; overflow: hidden; z-index: 20130;"><!-- --></div>'),l.removeClass(t.outClassName).addClass(t.infoClassName),l.css("display","none");var o=0;l.addClass("fj_dialog_v102"),e(".fj_dialog_v102").each(function(t,n){var r=e(n);r.css("position")=="fixed"&&(o=r.offset().top<o||o==0?r.offset().top:o)}),e(document.body).append(l);var u={},a=t.infoPosition=="left"||t.infoPosition=="right",f=t.infoPosition=="top"||t.infoPosition=="bottom",c=i.offset().top+t.offsetEventTop,h=i.offset().left+t.offsetEventLeft,p=l.width()==0?i.outerWidth():l.width(),d=l.height()==0?i.outerHeight():l.height();if(t.displayedInTheBrowser){p=l.width()==0?t.displayedInTheBrowserWidth==0||t.displayedInTheBrowserWidth=="auto"?r.displayedInTheBrowserWidth:t.displayedInTheBrowserWidth:l.width(),d=l.height()==0?t.displayedInTheBrowserHeight==0||t.displayedInTheBrowserHeight=="auto"?r.displayedInTheBrowserHeight:t.displayedInTheBrowserHeight:l.height();var v=1;t.positionIsFixed?(c=t.positionTop==r.positionTop?o-e(document).scrollTop()-d-v>0?o-e(document).scrollTop()-d-v:document.documentElement.clientHeight-t.positionBottom-d-v:t.positionTop,h=t.positionLeft==r.positionLeft?document.documentElement.clientWidth-t.positionRight-p-v:t.positionLeft,u.position="fixed",u._POSITION="absolute",u._LEFT="expression(eval(document.documentElement.scrollLeft+document.documentElement.clientWidth-this.offsetWidth)-(parseInt(this.currentStyle.marginLeft,10)||0)-(parseInt(this.currentStyle.marginRight,10)||0))",u._TOP="expression(eval(document.documentElement.scrollTop+document.documentElement.clientHeight-this.offsetHeight-(parseInt(this.currentStyle.marginTop,10)||0)-(parseInt(this.currentStyle.marginBottom,10)||0)))}"):(c=t.positionTop==r.positionTop?e(document).height()-t.positionBottom-d-v:t.positionTop,h=t.positionLeft==r.positionLeft?e(document).width()-t.positionRight-p-v:t.positionLeft)}u.top=c,u.left=h,u.width=a?0:p,u.height=f?0:d,u.opacity=r.dialogOpacity,l.css(u);var m={};a&&(m.width=p,t.infoPosition=="left"&&(l.css("left",h+m.width),m.left=h)),f&&(m.height=d,t.infoPosition=="bottom"&&(l.css("top",c+m.height),m.top=c)),t.infoStyle=="fadeIn"&&(l.css("opacity",0),m.opacity=t.dialogOpacity),t.showTimeOut>0?window.setTimeout(function(){s(m,n)},t.showTimeOut):s(m,n)}function s(e,n){var r=t.infoAnimateSpeed;t.infoPosition=="center"&&(r=0),l.html(n==undefined?t.infoShowMessage:n),l.css("display","block"),l.animate(e,r,"swing"),a()}function o(n){l.stop(),l.removeClass(t.infoClassName).addClass(t.outClassName),l.html(n==undefined?t.outShowMessage:n);var r=t.outPosition=="left"||t.outPosition=="right",i=t.outPosition=="top"||t.outPosition=="bottom",s={};r&&(s.width=0,t.outPosition=="right"&&(s.left=l.offset().left+l.width()-(t.displayedInTheBrowser?e(document).scrollLeft():0))),i&&(s.height=0,t.outPosition=="bottom"&&(s.top=l.offset().top+l.height()-(t.displayedInTheBrowser?e(document).scrollTop():0))),t.outStyle=="fadeOut"&&(s.opacity=0),t.hiddenTimeOut>0?window.setTimeout(function(){u(s)},t.hiddenTimeOut):u(s)}function u(e){var n=t.outAnimateSpeed;t.outPosition=="center"&&(n=0),l.animate(e,n,"swing",function(){f()})}function a(){t.autoHiddeenTime>0&&window.setTimeout(o,t.autoHiddeenTime)}function f(){l!=null&&(l.remove(),l=null)}var l=null;i.showDialog=n,i.hiddenDialog=o})},e.fn.fjDialog.defaults={infoPosition:"left",infoStyle:"fadeIn",infoAnimateSpeed:618,infoShowMessage:'<img src="img/x1.gif" alt="loading...">',infoClassName:"fjdialog_show_default_style",outPosition:"right",outStyle:"fadeOut",outAnimateSpeed:618,outShowMessage:"&hearts;消失&rarr;",outClassName:"fjdialog_hidden_default_style",displayedInTheBrowser:!0,positionIsFixed:!0,showTimeOut:0,hiddenTimeOut:0,autoHiddeenTime:0,dialogOpacity:1,offsetEventLeft:0,offsetEventTop:0,positionLeft:0,positionTop:0,positionRight:0,positionBottom:0,displayedInTheBrowserWidth:168,displayedInTheBrowserHeight:62}})(jQuery);