// knockout-classBindingProvider 0.5.0 | (c) 2013 Ryan Niemeyer |  http://www.opensource.org/licenses/mit-license
!function(a){"function"==typeof define&&define.amd?define(["knockout","exports"],a):a(ko)}(function(a,b){var c=function(a,b){var c,d;if(!a)return a;c={};for(d in a)a.hasOwnProperty(d)&&(c[d]=b(a[d],d,a));return c},d=function(a){return function(){return a}};a.version>="3.0.0"&&function(){var b=document.createElement("div");a.applyBindings(null,b);var c=a.contextFor(b),d=!a.storedBindingContextForNode,e=d?"A":"_subscribable",f=d?"wb":"_addNode",g=function(){};g[f]=g,c.constructor.prototype[e]=g,a.cleanNode(b)}();var e=function(b,e){var f=new a.bindingProvider;e=e||{},this.attribute=e.attribute||"data-class",this.virtualAttribute="ko "+(e.virtualAttribute||"class")+":",this.fallback=e.fallback,this.bindings=b||{},this.bindingRouter=e.bindingRouter||function(a,b){var c,d,e,f;if(b[a])return b[a];for(e=a.split("."),f=b,c=0,d=e.length;d>c;c++)f=f[e[c]];return f},this.registerBindings=function(b){a.utils.extend(this.bindings,b)},this.nodeHasBindings=function(a){var b,c;return 1===a.nodeType?b=a.getAttribute(this.attribute):8===a.nodeType&&(c=""+a.nodeValue||a.text,b=c.indexOf(this.virtualAttribute)>-1),!b&&this.fallback&&(b=f.nodeHasBindings(a)),b},this.getBindingsFunction=function(b){return function(e,g){var h,i,j,k,l,m,n={},o="";if(1===e.nodeType?o=e.getAttribute(this.attribute):8===e.nodeType&&(l=""+e.nodeValue||e.text,m=l.indexOf(this.virtualAttribute),m>-1&&(o=l.substring(m+this.virtualAttribute.length))),o)for(o=o.replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g,"").replace(/(\s|\u00A0){2,}/g," ").split(" "),h=0,i=o.length;i>h;h++)j=this.bindingRouter(o[h],this.bindings),j&&(k="function"==typeof j?j.call(g.$data,g,o):j,b&&(k=c(k,d)),a.utils.extend(n,k));else this.fallback&&(n=f[b?"getBindingAccessors":"getBindings"](e,g));return n}},this.getBindings=this.getBindingsFunction(!1),this.getBindingAccessors=this.getBindingsFunction(!0)};return b||(a.classBindingProvider=e),e});