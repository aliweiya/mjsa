<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
		<title>Í¼Æ¬·Ö×éä¯ÀÀÇÐ»»jQuery½¹µãÍ¼ - 97Õ¾³¤Íø£¨www.97zzw.com£©</title>
        <link href="css/97zzw.css" rel="stylesheet" type="text/css" media="all" />
		<script src="js/jquery-1.9.1.min.js" type="text/javascript"></script>
		<script src="js/jquery.carouFredSel-6.2.0-packed.js" type="text/javascript"></script>
		<script type="text/javascript">
			$(function() {
				var $big = $('#big .carousel'),
					$small = $('#small .carousel');

				$big.carouFredSel({
					auto: false,
					direction: 'down',
					scroll: {
						items: 1,
						duration: 300
					},
					prev: {
						duration: 'auto'
					},
					next: {
						duration: 'auto'
					}
				});
				
				$small.carouFredSel({
					align: 'left',
					width: 'variable',
					auto: false,
					items:  4,
					scroll: {
						items: 'variable',
						duration: 300,
						onBefore: function( data ) {
							var src = data.items.visible.first().attr( 'src' ).split( '/small/' )[ 1 ];
							$big.trigger( 'slideTo', [ '[src$="' + src + '"]', { 
								fx: 'directscroll',
								duration: 300
							} ] );
						}
					}
				});

				$('#small img')
					.css( 'cursor', 'pointer' )
					.click(function() {
						if ( $big.triggerHandler( 'isScrolling' ) ) {
							return false;
						}
						var src = $(this).attr( 'src' ).split( '/small/' )[ 1 ];
						$big.trigger( 'slideTo', [ '[src$="' + src + '"]' ] );

						return false;
					});

				$('#next').click(function() {

					if ( $small.triggerHandler( 'isScrolling' ) ) {
						return false;
					}
					var $visible = $small.triggerHandler( 'currentVisible' ),
						$next = $visible.last().next(),
						$new = $small.find( '[src^="' + $next.attr( 'src' ).split( '-' )[ 0 ] + '"]' );

					$small.trigger( 'configuration', [{
						items: {
							visible: $new.length
						}
					}, false] );
					$small.trigger( 'next', [ $visible.length ] );

					return false;
				});
			});
		</script>
	</head>
	<body>
		<div id="wrapper">
			<div id="big">
				<div class="carousel">
					<img src="img/big/car1-a.jpg" width="900" height="450" />
					<img src="img/big/car1-b.jpg" width="900" height="450" />
					<img src="img/big/car1-c.jpg" width="900" height="450" />
					<img src="img/big/car1-d.jpg" width="900" height="450" />
					<img src="img/big/car2-a.jpg" width="900" height="450" />
					<img src="img/big/car2-b.jpg" width="900" height="450" />
					<img src="img/big/car2-c.jpg" width="900" height="450" />
					<img src="img/big/car3-a.jpg" width="900" height="450" />
					<img src="img/big/car3-b.jpg" width="900" height="450" />
				</div>
			</div>
			<div id="small">
				<div class="carousel">
					<img src="img/small/car1-a.jpg" width="100" height="100" />
					<img src="img/small/car1-b.jpg" width="100" height="100" />
					<img src="img/small/car1-c.jpg" width="100" height="100" />
					<img src="img/small/car1-d.jpg" width="100" height="100" />
					<img src="img/small/car2-a.jpg" width="100" height="100" />
					<img src="img/small/car2-b.jpg" width="100" height="100" />
					<img src="img/small/car2-c.jpg" width="100" height="100" />
					<img src="img/small/car3-a.jpg" width="100" height="100" />
					<img src="img/small/car3-b.jpg" width="100" height="100" />
				</div>
				<a id="next" href="#">&#8250;</a>
			</div>
		</div>
	</body>
</html>